// First attempt at build.gradle for the java 7 web app

/*
 This file is part of the Java Settlers Web App.

 This file Copyright (C) 2017 Jeremy D Monin <jeremy@nand.net>

 Open-source license: TBD
 */

// Requires jsettlers-server.jar available (TBD)

apply plugin: 'war'

buildscript {
    repositories {
        mavenCentral()
    }
}

repositories {
    mavenCentral()
}

dependencies {
    // TBD: jsettlers-server
    providedCompile 'javax.servlet:javax.servlet-api:3.1.0'  // Java EE 7
    // testCompile 'junit:junit:4.12'
}

compileJava {
    sourceCompatibility = '1.7'
    targetCompatibility = '1.7'
}

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'  // override the system's default encoding
}

tasks.withType(Jar) {
    includeEmptyDirs = false
}

war {
    archiveName = 'jsweb.war'  // no version, for bookmark-friendly prefix at deploy
}

